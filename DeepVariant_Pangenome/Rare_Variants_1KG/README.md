# Showing that pangenome-aware DeepVariant is able to call rare variants (AF < 0.01)

Some reviewers criticized that pangenome-aware DV is biased toward the pangenome that it takes as input, and that the model is skeptical of true rare variants absent from the pangenome. 
Here, we want to show that pangenome-aware DV and linear-reference-based DV are comparable in terms of calling rare variants.
Here are the data we need for this analysis:
- The variant call sets generated by running linear-reference-based DV on 1KG samples (no pangenome is used)
- The variant call sets generated by running pangenome-aware DV on 1KG samples (HPRC graph-v1.1 with all 88 haplotypes is used)
- Five samples were selected from the HPRC Release 2 that were absent from HPRC Release 1 (or absent from graph-v1.1)
- The hifiasm haplotype-resolved assemblies were mapped to GRCh38, and then Dipcall was used to create truth sets for those five HPRC Release 2 samples

Using these data, we will perform the following steps:

- Take all the 1KG linear-reference-based DV VCF files
- Compute the frequency of all variants in the set and select the rare variants; essentially, we use linear-reference-based DV results as a proxy to measure variant rarity
- Filter out rare variants not supported by assembly-based Dipcall call sets. This filtering may not be easy if we include indels and complex regions, but we can use hap.py for this comparison.
  For example, we can pass DV calls as the query and the Dipcall set as the truth and extract only TP calls.
- After obtaining those confident rare variants for the five samples, compare pangenome-aware DV calls against them and report the recall rate.
